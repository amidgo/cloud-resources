# РЕШЕНИЕ ДЛЯ ФИНАЛА ОЛИМПИАДЫ TRUE TECH CHAMP ОТ МТС
https://truetechchamp.ru/

Воронков Дмитрий, октябрь 2023

## Основные концепции
1. Самый быстрый способ добавить ресурс, обновить уже существующую машину
2. Одна большая машинка дешевле чем много маленьких
3. Лучше иметь чуть больше ресурсов чем чуть меньше

## Основные компоненты системы
1. Scheduler - /intenal/scheduler, планировщик, раз в определённое время активирует смену ресурсов
2. Executor - /internal/executor, собственно компонент который отвечает за смену ресурсов
3. ResourceManager - /internal/resourcemanager, ядро системы, определяет стратегию добавления/удаления ресурса
4. PriceManager - /internal/pricemanager, содержит информацию о максимальном/минимальном ресурсе cpu/ram
5. ResourceStorage - internal/storage/http/resourcestorage, вызывает методы апишки по ресурсам
6. StatisticsStorage - internal/storage/http/statisticsstorage, вызывает методы апишки по статистике
7. PriceStorage - internal/storage/http/pricestorage, вызывает методы апишки по ценам

первые 3 ключевые компонента протестированы, тесты рабочие

## Конфигурация
Прошу вас обратить внимание на папку config/app в ней содержится файл example.yaml который описывает конфигурацию нашего сервиса, вам нужно создать в папке config/app файл config.yaml, см. config/app.go:75

## Недостатки сервиса
Из основных недостатков сервиса я бы заметил:
1. Если у нас слишком большая разница между минимальным и максимальным ресурсом то это может привести к проблемам с перерасходам денег, это решается изменением компонента PriceManager который выбирает минимальный и максимальный ресурс наиболее оптимальным путём

2. Отсутсвие разбиения большого ресурса на множество маленьких. Отчасти эта проблема решается 1 пунктом, но всё равно ситуация когда у нас стоит одна максимальная машинка с нагрузкой по 10% это не дело

3. Отсутствия учёта response_time у статистики, это должно решаться понижением целевой нагрузки в конфигурационном файле, сам по себе этот параметр не учитывается

4. Возможно я что-то забыл, или вообще в ходе пометки комментариев что-то поломал (мало ли) и у сервиса есть ещё некоторые недостатки о которых мне неизвестно, но основные были перечислены в первых трёх пунктах